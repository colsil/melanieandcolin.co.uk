{% extends 'base.html.twig' %}

{% block body %}
    <div class="container">
        <h1>My RSVP</h1>
        <table class="table">
            <tr>
                <th>Your Name</th>
                <td>{{ guest.name }}</td>
            </tr>
            <tr>
                <th>Your Surname</th>
                <td>{{ guest.surname }}</td>
            </tr>
            <tr>
                <th>RSVP Received</th>
                <td>{% if guest.rsvpReceived %}Yes{% else %}No{% endif %}</td>
            </tr>
            {% if guest.invitedday %}
                <tr>
                    <th>Attending Day</th>
                    <td>{% if guest.attendingday %}Yes{% else %}No{% endif %}</td>
                </tr>
            {% endif %}
            <tr>
                <th>Attending Evening</th>
                <td>{% if guest.attendingevening %}Yes{% else %}No{% endif %}</td>
            </tr>
            {% if guest.attendingday %}
                <tr>
                    <th>Vegetarian</th>
                    <td>{% if guest.vegetarian %}Yes{% else %}No{% endif %}</td>
                </tr>
            {% endif %}
            <tr>
                <th>Dietary Requirements</th>
                <td>{% if guest.dietary %}{{ guest.dietary }}{% else %}None{% endif %}</td>
            </tr>
        </table>
        {% if guest.plusOnes|length > 0 %}
            <h2>My Guests</h2>
            {% for plusone in guest.plusOnes %}
                <table class="table">
                    <tr>
                        <th colspan="2">Guest {{ loop.index }}</th>
                    </tr>
                    <tr>
                        <th>Name</th>
                        <td>{{ plusone.name }}</td>
                    </tr>
                    <tr>
                        <th>Surname</th>
                        <td>{{ plusone.surname }}</td>
                    </tr>
                    {% if plusone.invitedday %}
                        <tr>
                            <th>Attending Day</th>
                            <td>{% if plusone.attendingday %}Yes{% else %}No{% endif %}</td>
                        </tr>
                        <tr>
                            <th>Vegetarian</th>
                            <td>{% if plusone.vegetarian %}Yes{% else %}No{% endif %}</td>
                        </tr>
                    {% endif %}
                    <tr>
                        <th>Attending Evening</th>
                        <td>{% if plusone.attendingevening %}Yes{% else %}No{% endif %}</td>
                    </tr>
                    <tr>
                        <th>Dietary Requirements</th>
                        <td>{% if plusone.dietary %}{{ plusone.dietary }}{% else %}None{% endif %}</td>
                    </tr>
                </table>
            {% endfor %}
        {% endif %}
        <h2>My Room Bookings</h2>
        {% if guest.rooms|length > 0 %}
            <table class="table">
                <thead>
                <tr>
                    <th>Room Type</th>
                    <th>Quantity</th>
                </tr>
                </thead>
                {% for room in guest.rooms %}
                    <tr>
                        <th>{{ room.type }}</th>
                        <td>{{ room.number }}</td>
                    </tr>
                {% endfor %}
            </table>
        {% else %}
            <p>You have not informed us of any requirements to book a room at the venue. If you are attending with someone else,
                it may be that the room booking is assigned to them. Please check with them first before contacting us!</p>
        {% endif %}
    </div>
{% endblock %}

